<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bohai.employeeSalary.dao.StaffInfoMapper" >
  <resultMap id="BaseResultMap" type="com.bohai.employeeSalary.entity.StaffInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    <id column="STAFF_NUMBER" property="staffNumber" jdbcType="VARCHAR" />
    <result column="PROBATION_DATE_START" property="probationDateStart" jdbcType="TIMESTAMP" />
    <result column="FORMAL_DATE_START" property="formalDateStart" jdbcType="TIMESTAMP" />
    <result column="LEAVE_DATE" property="leaveDate" jdbcType="TIMESTAMP" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="ID_NUMBER" property="idNumber" jdbcType="VARCHAR" />
    <result column="POSITION_SALARY" property="positionSalary" jdbcType="VARCHAR" />
    <result column="WORK_YEARS" property="workYears" jdbcType="VARCHAR" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="DEPARTMENT_ID" property="departmentId" jdbcType="VARCHAR" />
     <result column="DEP_NAME" property="departmentName" jdbcType="VARCHAR" />
    <result column="IS_LEAVE" property="isLeave" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="IS_PROBATION" property="isProbation" jdbcType="VARCHAR" />
    <result column="COEFFICEIENT" property="coefficeient" jdbcType="VARCHAR"/>
    <result column="SKILL_SALARY" property="skillSalary" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    STAFF_NUMBER, PROBATION_DATE_START, FORMAL_DATE_START, LEAVE_DATE, NAME, ID_NUMBER, 
    POSITION_SALARY, WORK_YEARS, EMAIL, REMARK, DEPARTMENT_ID, IS_LEAVE, CREATE_TIME, 
    UPDATE_TIME, IS_PROBATION , COEFFICEIENT ,SKILL_SALARY
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from STAFF_INFO
    where STAFF_NUMBER = #{staffNumber,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    delete from STAFF_INFO
    where STAFF_NUMBER = #{staffNumber,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.bohai.employeeSalary.entity.StaffInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    insert into STAFF_INFO (STAFF_NUMBER, PROBATION_DATE_START, 
      FORMAL_DATE_START, LEAVE_DATE, NAME, 
      ID_NUMBER, POSITION_SALARY, WORK_YEARS, 
      EMAIL, REMARK, DEPARTMENT_ID, 
      IS_LEAVE, CREATE_TIME, UPDATE_TIME, 
      IS_PROBATION,COEFFICEIENT,SKILL_SALARY)
    values (#{staffNumber,jdbcType=VARCHAR}, #{probationDateStart,jdbcType=TIMESTAMP}, 
      #{formalDateStart,jdbcType=TIMESTAMP}, #{leaveDate,jdbcType=TIMESTAMP}, #{name,jdbcType=VARCHAR}, 
      #{idNumber,jdbcType=VARCHAR}, #{positionSalary,jdbcType=VARCHAR}, #{workYears,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{departmentId,jdbcType=VARCHAR}, 
      #{isLeave,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{isProbation,jdbcType=VARCHAR},#{coefficeient,jdbcType=VARCHAR},#{skillSalary,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.bohai.employeeSalary.entity.StaffInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    insert into STAFF_INFO
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="staffNumber != null" >
        STAFF_NUMBER,
      </if>
      <if test="probationDateStart != null" >
        PROBATION_DATE_START,
      </if>
      <if test="formalDateStart != null" >
        FORMAL_DATE_START,
      </if>
      <if test="leaveDate != null" >
        LEAVE_DATE,
      </if>
      <if test="name != null" >
        NAME,
      </if>
      <if test="idNumber != null" >
        ID_NUMBER,
      </if>
      <if test="positionSalary != null" >
        POSITION_SALARY,
      </if>
      <if test="workYears != null" >
        WORK_YEARS,
      </if>
      <if test="email != null" >
        EMAIL,
      </if>
      <if test="remark != null" >
        REMARK,
      </if>
      <if test="departmentId != null" >
        DEPARTMENT_ID,
      </if>
      <if test="isLeave != null" >
        IS_LEAVE,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME,
      </if>
      <if test="isProbation != null" >
        IS_PROBATION,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="staffNumber != null" >
        #{staffNumber,jdbcType=VARCHAR},
      </if>
      <if test="probationDateStart != null" >
        #{probationDateStart,jdbcType=TIMESTAMP},
      </if>
      <if test="formalDateStart != null" >
        #{formalDateStart,jdbcType=TIMESTAMP},
      </if>
      <if test="leaveDate != null" >
        #{leaveDate,jdbcType=TIMESTAMP},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="idNumber != null" >
        #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="positionSalary != null" >
        #{positionSalary,jdbcType=VARCHAR},
      </if>
      <if test="workYears != null" >
        #{workYears,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null" >
        #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="isLeave != null" >
        #{isLeave,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isProbation != null" >
        #{isProbation,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.bohai.employeeSalary.entity.StaffInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    update STAFF_INFO
    <set >
      <if test="probationDateStart != null" >
        PROBATION_DATE_START = #{probationDateStart,jdbcType=TIMESTAMP},
      </if>
      <if test="formalDateStart != null" >
        FORMAL_DATE_START = #{formalDateStart,jdbcType=TIMESTAMP},
      </if>
      <if test="leaveDate != null" >
        LEAVE_DATE = #{leaveDate,jdbcType=TIMESTAMP},
      </if>
      <if test="name != null" >
        NAME = #{name,jdbcType=VARCHAR},
      </if>
      <if test="idNumber != null" >
        ID_NUMBER = #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="positionSalary != null" >
        POSITION_SALARY = #{positionSalary,jdbcType=VARCHAR},
      </if>
      <if test="workYears != null" >
        WORK_YEARS = #{workYears,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        EMAIL = #{email,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        REMARK = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null" >
        DEPARTMENT_ID = #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="isLeave != null" >
        IS_LEAVE = #{isLeave,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isProbation != null" >
        IS_PROBATION = #{isProbation,jdbcType=VARCHAR},
      </if>
    </set>
    where STAFF_NUMBER = #{staffNumber,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.bohai.employeeSalary.entity.StaffInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 15 13:38:03 CST 2017.
    -->
    update STAFF_INFO
    set PROBATION_DATE_START = #{probationDateStart,jdbcType=TIMESTAMP},
      FORMAL_DATE_START = #{formalDateStart,jdbcType=TIMESTAMP},
      LEAVE_DATE = #{leaveDate,jdbcType=TIMESTAMP},
      NAME = #{name,jdbcType=VARCHAR},
      ID_NUMBER = #{idNumber,jdbcType=VARCHAR},
      POSITION_SALARY = #{positionSalary,jdbcType=VARCHAR},
      WORK_YEARS = #{workYears,jdbcType=VARCHAR},
      EMAIL = #{email,jdbcType=VARCHAR},
      REMARK = #{remark,jdbcType=VARCHAR},
      DEPARTMENT_ID = #{departmentId,jdbcType=VARCHAR},
      IS_LEAVE = #{isLeave,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      IS_PROBATION = #{isProbation,jdbcType=VARCHAR},
      COEFFICEIENT =#{coefficeient,jdbcType=VARCHAR},
      SKILL_SALARY =#{skillSalary,jdbcType=VARCHAR}
    where STAFF_NUMBER = #{staffNumber,jdbcType=VARCHAR}
  </update>
  
  <select id="queryStaffInfos" parameterType="java.util.Map" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List" />
    ,b.DEP_NAME
    FROM STAFF_INFO a LEFT JOIN DEPARTMENT b ON a.DEPARTMENT_ID=b.DEP_NUMBER WHERE IS_LEAVE='0' 
    ORDER BY a.STAFF_NUMBER
  </select>
  
 <select id="selectByCondition" parameterType="com.bohai.employeeSalary.vo.QueryStaffInfoParamVO" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List" />
    ,b.DEP_NAME 
  FROM STAFF_INFO a LEFT JOIN DEPARTMENT b ON a.DEPARTMENT_ID=b.DEP_NUMBER 
  <where>
   <if test="departmentId !=null and departmentId !=''">
    a.DEPARTMENT_ID=#{departmentId} 
   </if>
   <if test="staffNumber !=null and staffNumber !=''">
    AND a.STAFF_NUMBER=#{staffNumber} 
   </if>
   <if test="name !=null and name !=''">
    AND a.NAME=#{name}   
   </if>
   <if test="isProbation !=null and isProbation !=''">
    AND a.IS_PROBATION=#{isProbation}   
   </if>
   <if test="isLeave !=null and isLeave !=''">
    AND a.IS_LEAVE=#{isLeave} 
   </if>
   </where>
   ORDER BY a.STAFF_NUMBER
 </select>
 
 <select id="selectByDepartment" parameterType="java.lang.String" resultMap="BaseResultMap">
   SELECT 
    <include refid="Base_Column_List" />
    ,b.DEP_NAME 
  FROM STAFF_INFO a LEFT JOIN DEPARTMENT b ON a.DEPARTMENT_ID=b.DEP_NUMBER 
  <where>
   <if test="departmentId !=null and departmentId !=''">
    a.DEPARTMENT_ID=#{departmentId} 
   </if>
   </where>
   ORDER BY a.STAFF_NUMBER
 </select>
 
 <select id="selectByDepartmentId" parameterType="com.bohai.employeeSalary.vo.QueryStaffInfoParamVO" resultType="java.lang.String">
    SELECT  distinct STAFF_NUMBER from STAFF_INFO
   
  <where>
   <if test="departmentId !=null and departmentId !=''">
    DEPARTMENT_ID=#{departmentId}  and
   </if>
   
  IS_LEAVE='0'
   </where>
  
 </select>
 
</mapper>